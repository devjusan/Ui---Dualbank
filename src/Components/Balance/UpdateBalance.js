import React from 'react';
import styles from './UpdateBalance.module.css';

const UpdateBalance = () => {
  const [hide, setHide] = React.useState(false);
  const dt = new Date();
  const hour = (dt.getHours() < 10 ? '0' : '') + dt.getHours();
  const minutes = (dt.getMinutes() < 10 ? '0' : '') + dt.getMinutes();
  const [ahour, setHour] = React.useState('16');
  const [amin, setMin] = React.useState('48');

  function handleTimer({ target }) {
    target.style.animation = 'spinner 0.5s linear';
    setHour(hour);
    setMin(minutes);
  }

  function handleHideMoney() {
    setHide(!hide);
    const line = document.querySelectorAll('#hide');
    if (hide) {
      line[0].style.opacity = '1';
      line[1].style.opacity = '1';
    } else {
      line[0].style.opacity = '0';
      line[1].style.opacity = '0';
    }
  }

  return (
    <div className={styles.update}>
      <div className={styles.p}>
        <p>
          Saldo atualizado às {ahour}:{amin}
        </p>
        <span
          onAnimationEnd={({ target }) => (target.style.animation = 'none')}
          onClick={handleTimer}
          className="spinner"
        >
          <div className="head"></div>
        </span>
      </div>
      <div
        style={{ borderBottomColor: `${hide ? '#172765' : '#778899'}` }}
        className={styles.balance}
      >
        <div className={styles.svg}>
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill={'none'}
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M3.75 10V4.5C3.75 4.30109 3.82902 4.11032 3.96967 3.96967C4.11032 3.82902 4.30109 3.75 4.5 3.75H19.5C19.6989 3.75 19.8897 3.82902 20.0303 3.96967C20.171 4.11032 20.25 4.30109 20.25 4.5V10C20.25 17.8764 13.5651 20.486 12.2303 20.9285C12.0811 20.9798 11.9189 20.9798 11.7697 20.9285C10.4349 20.486 3.75 17.8764 3.75 10Z"
              stroke={`${!hide ? '#778899' : '#172765'}`}
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <path
              d="M16.125 9L10.625 14.25L7.875 11.625"
              stroke={`${!hide ? '#778899' : '#172765'}`}
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
        </div>
        <div className={styles.money}>
          <div className={styles.moneyDiv}>
            {!hide ? (
              <div className={styles.notHide}>
                <p>Saldo disponível</p>
                <p>R$100.000.000,00</p>
              </div>
            ) : (
              <p className={styles.isHide}>Saldo</p>
            )}
          </div>
          <div
            style={{ cursor: 'pointer', marginRight: '14px' }}
            onClick={handleHideMoney}
          >
            <svg
              width="14"
              height="13"
              viewBox="0 0 14 13"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M0.666656 6.75626L0.202418 6.57057C0.154736 6.68977 0.154736 6.82275 0.202418 6.94196L0.666656 6.75626ZM13.3333 6.75626L13.7976 6.94196C13.8452 6.82275 13.8452 6.68977 13.7976 6.57057L13.3333 6.75626ZM6.99998 10.7801C4.92406 10.7801 3.46587 9.74739 2.50854 8.68368C2.02952 8.15144 1.68227 7.61751 1.45509 7.2166C1.34178 7.01665 1.25912 6.85116 1.20551 6.73744C1.17872 6.68061 1.15924 6.63683 1.14686 6.60826C1.14067 6.59399 1.13627 6.58352 1.13361 6.57714C1.13229 6.57396 1.1314 6.57179 1.13095 6.57068C1.13072 6.57013 1.1306 6.56984 1.1306 6.56982C1.13059 6.56981 1.13061 6.56987 1.13066 6.56999C1.13069 6.57005 1.13075 6.5702 1.13076 6.57023C1.13082 6.57039 1.1309 6.57057 0.666656 6.75626C0.202418 6.94196 0.202503 6.94217 0.202595 6.9424C0.202635 6.9425 0.202735 6.94275 0.202815 6.94295C0.202975 6.94335 0.203164 6.94381 0.203381 6.94435C0.203816 6.94543 0.204363 6.94678 0.205024 6.9484C0.206346 6.95164 0.208123 6.95596 0.210358 6.96133C0.214828 6.97208 0.221134 6.98701 0.229304 7.00587C0.245641 7.04357 0.269455 7.09698 0.300981 7.16385C0.363995 7.29752 0.458047 7.48546 0.585065 7.70961C0.838538 8.15692 1.2264 8.75394 1.76524 9.35265C2.84362 10.5508 4.55208 11.7801 6.99998 11.7801V10.7801ZM0.666656 6.75626C1.1309 6.94196 1.13082 6.94213 1.13076 6.9423C1.13075 6.94233 1.13069 6.94247 1.13066 6.94253C1.13061 6.94266 1.13059 6.94271 1.1306 6.9427C1.1306 6.94268 1.13072 6.94239 1.13095 6.94184C1.1314 6.94073 1.13229 6.93857 1.13361 6.93538C1.13627 6.929 1.14067 6.91854 1.14686 6.90426C1.15924 6.87569 1.17872 6.83191 1.20551 6.77509C1.25912 6.66136 1.34178 6.49588 1.45509 6.29592C1.68227 5.89502 2.02952 5.36108 2.50854 4.82884C3.46587 3.76513 4.92406 2.73245 6.99998 2.73245V1.73245C4.55208 1.73245 2.84362 2.96167 1.76524 4.15988C1.2264 4.75859 0.838538 5.3556 0.585065 5.80291C0.458047 6.02706 0.363995 6.215 0.300981 6.34867C0.269455 6.41554 0.245641 6.46895 0.229304 6.50665C0.221134 6.52551 0.214828 6.54045 0.210358 6.55119C0.208123 6.55656 0.206346 6.56088 0.205024 6.56413C0.204363 6.56575 0.203816 6.5671 0.203381 6.56817C0.203164 6.56871 0.202975 6.56918 0.202815 6.56958C0.202735 6.56978 0.202635 6.57002 0.202595 6.57012C0.202503 6.57035 0.202418 6.57057 0.666656 6.75626ZM6.99998 2.73245C9.07589 2.73245 10.5341 3.76514 11.4914 4.82884C11.9704 5.36108 12.3177 5.89502 12.5449 6.29592C12.6582 6.49588 12.7409 6.66136 12.7945 6.77509C12.8213 6.83191 12.8407 6.8757 12.8531 6.90426C12.8593 6.91854 12.8637 6.92901 12.8664 6.93538C12.8677 6.93857 12.8686 6.94073 12.869 6.94184C12.8693 6.9424 12.8694 6.94269 12.8694 6.94271C12.8694 6.94272 12.8694 6.94266 12.8693 6.94254C12.8693 6.94247 12.8692 6.94233 12.8692 6.9423C12.8692 6.94214 12.8691 6.94196 13.3333 6.75626C13.7976 6.57057 13.7975 6.57035 13.7974 6.57012C13.7973 6.57002 13.7972 6.56977 13.7972 6.56957C13.797 6.56918 13.7968 6.56871 13.7966 6.56817C13.7962 6.56709 13.7956 6.56574 13.795 6.56412C13.7936 6.56088 13.7919 6.55656 13.7896 6.55119C13.7851 6.54045 13.7788 6.52551 13.7707 6.50665C13.7543 6.46895 13.7305 6.41554 13.699 6.34867C13.636 6.215 13.5419 6.02706 13.4149 5.80291C13.1614 5.3556 12.7736 4.75859 12.2347 4.15987C11.1563 2.96167 9.44787 1.73245 6.99998 1.73245V2.73245ZM13.3333 6.75626C12.8691 6.57057 12.8692 6.57039 12.8692 6.57023C12.8692 6.57019 12.8693 6.57005 12.8693 6.56999C12.8694 6.56986 12.8694 6.56981 12.8694 6.56982C12.8694 6.56984 12.8693 6.57013 12.869 6.57068C12.8686 6.57179 12.8677 6.57395 12.8664 6.57714C12.8637 6.58352 12.8593 6.59398 12.8531 6.60826C12.8407 6.63683 12.8213 6.68061 12.7945 6.73743C12.7409 6.85116 12.6582 7.01664 12.5449 7.2166C12.3177 7.61751 11.9704 8.15144 11.4914 8.68368C10.5341 9.74739 9.07589 10.7801 6.99998 10.7801V11.7801C9.44787 11.7801 11.1563 10.5508 12.2347 9.35265C12.7736 8.75394 13.1614 8.15692 13.4149 7.70961C13.5419 7.48546 13.636 7.29752 13.699 7.16386C13.7305 7.09698 13.7543 7.04357 13.7707 7.00587C13.7788 6.98702 13.7851 6.97208 13.7896 6.96134C13.7919 6.95597 13.7936 6.95164 13.795 6.9484C13.7956 6.94678 13.7962 6.94543 13.7966 6.94436C13.7968 6.94382 13.797 6.94335 13.7972 6.94295C13.7972 6.94275 13.7973 6.9425 13.7974 6.9424C13.7975 6.94217 13.7976 6.94196 13.3333 6.75626ZM6.99999 8.06579C6.27676 8.06579 5.69047 7.47949 5.69047 6.75626H4.69047C4.69047 8.03178 5.72447 9.06579 6.99999 9.06579V8.06579ZM8.30951 6.75626C8.30951 7.47949 7.72322 8.06579 6.99999 8.06579V9.06579C8.2755 9.06579 9.30951 8.03178 9.30951 6.75626H8.30951ZM6.99999 5.44674C7.72322 5.44674 8.30951 6.03303 8.30951 6.75626H9.30951C9.30951 5.48075 8.2755 4.44674 6.99999 4.44674V5.44674ZM6.99999 4.44674C5.72447 4.44674 4.69047 5.48075 4.69047 6.75626H5.69047C5.69047 6.03303 6.27676 5.44674 6.99999 5.44674V4.44674Z"
                fill="#172765"
              />
              <line
                id="hide"
                x1="2.80014"
                y1="10.9966"
                x2="12.13"
                y2="1.66672"
                stroke="white"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <line
                id="hide"
                x1="2.41306"
                y1="11.5251"
                x2="11.7059"
                y2="2.23224"
                stroke="#172765"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </div>
        </div>
      </div>
    </div>
  );
};

export default UpdateBalance;
